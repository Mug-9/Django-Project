(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ada2e19a"],{"1a7c":function(e,r,o){},"32c9":function(e,r,o){"use strict";o("1a7c")},"7c9c":function(e,r,o){"use strict";o.r(r);var t=o("7a23"),a=Object(t["eb"])("data-v-ae9716bc");Object(t["G"])("data-v-ae9716bc");var c={class:"main"},n={class:"login-div"},u=Object(t["m"])("div",{class:"welcome-div"},"Welcome!",-1),l={class:"form-div"},s=Object(t["l"])("注册"),i=Object(t["l"])("取消");Object(t["E"])();var m=a((function(e,r,o,m,f,d){var p=Object(t["M"])("el-input"),b=Object(t["M"])("el-form-item"),w=Object(t["M"])("el-button"),g=Object(t["M"])("el-form");return Object(t["D"])(),Object(t["i"])("div",c,[Object(t["m"])("div",n,[u,Object(t["m"])("div",l,[Object(t["m"])(g,{model:f.form,ref:"form","status-icon":"",rules:f.rules,"label-width":"8em",class:"form-el"},{default:a((function(){return[Object(t["m"])(b,{label:"邮箱",prop:"account"},{default:a((function(){return[Object(t["m"])(p,{type:"email",modelValue:f.form.account,"onUpdate:modelValue":r[1]||(r[1]=function(e){return f.form.account=e}),autocomplete:"off"},null,8,["modelValue"])]})),_:1}),Object(t["m"])(b,{label:"密码",prop:"password"},{default:a((function(){return[Object(t["m"])(p,{type:"password",modelValue:f.form.password,"onUpdate:modelValue":r[2]||(r[2]=function(e){return f.form.password=e}),autocomplete:"off"},null,8,["modelValue"])]})),_:1}),Object(t["m"])(b,{label:"重复密码",prop:"passwordAgain"},{default:a((function(){return[Object(t["m"])(p,{type:"password",modelValue:f.form.passwordAgain,"onUpdate:modelValue":r[3]||(r[3]=function(e){return f.form.passwordAgain=e}),autocomplete:"off"},null,8,["modelValue"])]})),_:1}),Object(t["m"])(b,null,{default:a((function(){return[Object(t["m"])(w,{type:"primary",onClick:r[4]||(r[4]=function(e){return d.submitForm("form")})},{default:a((function(){return[s]})),_:1}),Object(t["m"])(w,{onClick:r[5]||(r[5]=function(e){return d.cancelForm("form")})},{default:a((function(){return[i]})),_:1})]})),_:1})]})),_:1},8,["model","rules"])])])])})),f=(o("ac1f"),o("5319"),o("3fd4")),d=o("1bab");function p(e){return Object(d["a"])({method:"post",url:"register",data:e,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}var b=o("bbb3"),w={name:"Register",data:function(){var e=this,r=function(r,o,t){console.log(e.form),""==o?t(new Error("账号不能为空")):e.formCheck.emailExits?(t(new Error("账号已存在")),e.formCheck.emailExits=!1):t()},o=function(r,o,t){""==o?t(new Error("请输入密码")):o.length<=6?t(new Error("密码长度应该不短于6")):o.length>=20?t(new Error("密码长度应该不长于20")):(""!=e.form.passwordAgain&&e.$refs.form.validateField("check pass"),t())},t=function(r,o,t){""==o?t(new Error("请再次输入密码")):o!=e.form.password?t(new Error("两次密码不一致")):t()};return{form:{account:"",password:"",passwordAgain:""},formCheck:{accountExits:!1},rules:{account:[{validator:r,trigger:"change"},{required:!0,whitespace:!0}],password:[{validator:o,trigger:"change"},{required:!0,whitespace:!0}],passwordAgain:[{validator:t,trigger:"change"},{required:!0,whitespace:!0}]}}},methods:{submitForm:function(e){var r=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!"),!1;var o=new FormData,t=r.form.account;for(var a in r.form)o.append(a,r.form[a]),console.log(a,r.form[a]);r.form.account=t+" ",p(o).then((function(e){r.form.account=t,console.log(e),"账号已存在!"==e?(f["a"].error(e),r.formCheck.accountExits=!0):"注册成功!"==e&&(f["a"].success({message:e,type:"success"}),r.$store.commit(b["d"],r.form.account),r.$store.commit(b["e"],r.form.password),r.$store.commit(b["c"],r.form.account),r.$router.replace("/login"))}))}))},cancelForm:function(e){this.$refs[e].resetFields()}}};o("32c9");w.render=m,w.__scopeId="data-v-ae9716bc";r["default"]=w}}]);
//# sourceMappingURL=chunk-ada2e19a.a6be1e18.js.map